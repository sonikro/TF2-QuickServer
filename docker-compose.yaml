services:
  tf2-server:
    build:
      context: ./variants/standard-competitive
      dockerfile: Dockerfile
    container_name: tf2-server
    environment:
      SERVER_HOSTNAME: Local TF2 Server
      SERVER_PASSWORD: ${SERVER_PASSWORD:-""}
      DEMOS_TF_APIKEY: ${DEMOS_TF_APIKEY:-""}
      LOGS_TF_APIKEY: ${LOGS_TF_APIKEY:-""}
      RCON_PASSWORD: ${RCON_PASSWORD:-""}
      STV_NAME: ${TV_NAME:-""}
      STV_PASSWORD: ${TV_PASSWORD:-""}
      ADMIN_STEAM_ID: ${ADMIN_STEAM_ID:-""}
    command:
      - "-enablefakeip"
      - "+sv_pure"
      - "2"
      - "+maxplayers"
      - "24"
      - "+map"
      - "cp_badlands"
